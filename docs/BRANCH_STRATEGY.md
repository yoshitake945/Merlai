# ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ã¨ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

## ğŸ“‹ ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥

### ãƒ–ãƒ©ãƒ³ãƒæ§‹æˆ
```
feature â†’ dev â†’ main
```

### ãƒ–ãƒ©ãƒ³ãƒã®å½¹å‰²

- **main**: æœ¬ç•ªç’°å¢ƒç”¨ã®å®‰å®šãƒ–ãƒ©ãƒ³ãƒ
- **dev**: é–‹ç™ºãƒ»çµ±åˆç”¨ã®ãƒ–ãƒ©ãƒ³ãƒ
- **feature**: æ©Ÿèƒ½é–‹ç™ºç”¨ã®ãƒ–ãƒ©ãƒ³ãƒ

### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

1. **æ©Ÿèƒ½é–‹ç™º**: `feature/æ©Ÿèƒ½å`ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
2. **devçµ±åˆ**: featureãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰devã¸PR
3. **æœ¬ç•ªãƒªãƒªãƒ¼ã‚¹**: devãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰mainã¸PR
4. **è‡ªå‹•åŒæœŸ**: mainãƒãƒ¼ã‚¸å¾Œã€devãƒ–ãƒ©ãƒ³ãƒãŒè‡ªå‹•åŒæœŸ

## ğŸ”„ è‡ªå‹•åŒæœŸãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### æ¦‚è¦
mainãƒ–ãƒ©ãƒ³ãƒã«ãƒãƒ¼ã‚¸ã•ã‚ŒãŸå¾Œã€è‡ªå‹•ã§devãƒ–ãƒ©ãƒ³ãƒãŒmainã«åŒæœŸã•ã‚Œã¾ã™ã€‚

### å‹•ä½œ
- **ãƒˆãƒªã‚¬ãƒ¼**: mainãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒ—ãƒƒã‚·ãƒ¥
- **å‹•ä½œ**: devãƒ–ãƒ©ãƒ³ãƒã‚’mainã«å¼·åˆ¶åŒæœŸ
- **ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**: `.github/workflows/sync-dev.yml`

## âš ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ: devãƒ–ãƒ©ãƒ³ãƒãŒåˆ†å²ã—ã¦ã„ã‚‹

#### ç—‡çŠ¶
```bash
$ git status
Your branch and 'origin/dev' have diverged,
and have 1 and 1 different commits each, respectively.
```

#### åŸå› 
- mainã«ãƒãƒ¼ã‚¸ã•ã‚ŒãŸå¾Œã€è‡ªå‹•åŒæœŸã«ã‚ˆã‚Šãƒªãƒ¢ãƒ¼ãƒˆã®devãŒæ›´æ–°ã•ã‚ŒãŸ
- ãƒ­ãƒ¼ã‚«ãƒ«ã®devãƒ–ãƒ©ãƒ³ãƒãŒå¤ã„çŠ¶æ…‹ã®ã¾ã¾

#### è§£æ±ºæ–¹æ³•

##### 1. å¼·åˆ¶ãƒªã‚»ãƒƒãƒˆï¼ˆæ¨å¥¨ï¼‰
```bash
git reset --hard origin/dev
```
- **ãƒ¡ãƒªãƒƒãƒˆ**: ç¢ºå®Ÿã«åŒæœŸã€é«˜é€Ÿ
- **æ³¨æ„**: ãƒ­ãƒ¼ã‚«ãƒ«ã®å¤‰æ›´ã¯å¤±ã‚ã‚Œã‚‹

##### 2. ãƒªãƒ™ãƒ¼ã‚¹
```bash
git pull --rebase origin dev
```
- **ãƒ¡ãƒªãƒƒãƒˆ**: å±¥æ­´ã‚’æ•´ç†
- **æ³¨æ„**: ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§

##### 3. ãƒ–ãƒ©ãƒ³ãƒå†ä½œæˆ
```bash
git fetch origin
git checkout -B dev origin/dev
```
- **ãƒ¡ãƒªãƒƒãƒˆ**: ç¢ºå®Ÿã«æœ€æ–°çŠ¶æ…‹
- **æ³¨æ„**: ãƒ­ãƒ¼ã‚«ãƒ«ãƒ–ãƒ©ãƒ³ãƒãŒå®Œå…¨ã«å†ä½œæˆã•ã‚Œã‚‹

### å•é¡Œ: é€šå¸¸ã®pullãŒã§ããªã„

#### ç—‡çŠ¶
```bash
$ git pull origin dev
fatal: Need to specify how to reconcile divergent branches.
```

#### è§£æ±ºæ–¹æ³•
ä¸Šè¨˜ã®ã€Œå¼·åˆ¶ãƒªã‚»ãƒƒãƒˆã€ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

## ğŸ› ï¸ æ—¥å¸¸çš„ãªæ“ä½œ

### devãƒ–ãƒ©ãƒ³ãƒã®æ›´æ–°
```bash
# é€šå¸¸ã®æ›´æ–°ï¼ˆåˆ†å²ã—ã¦ã„ãªã„å ´åˆï¼‰
git pull origin dev

# åˆ†å²ã—ã¦ã„ã‚‹å ´åˆ
git reset --hard origin/dev
```

### æ–°ã—ã„æ©Ÿèƒ½é–‹ç™º
```bash
# æ–°ã—ã„featureãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
git checkout -b feature/æ–°æ©Ÿèƒ½å

# é–‹ç™ºãƒ»ã‚³ãƒŸãƒƒãƒˆ
git add .
git commit -m "feat: æ–°æ©Ÿèƒ½ã®å®Ÿè£…"

# devãƒ–ãƒ©ãƒ³ãƒã«PRä½œæˆ
gh pr create --base dev --head feature/æ–°æ©Ÿèƒ½å
```

### mainã¸ã®ãƒªãƒªãƒ¼ã‚¹
```bash
# devã‹ã‚‰mainã¸ã®PRä½œæˆ
gh pr create --base main --head dev
```

## ğŸ“Š ãƒ–ãƒ©ãƒ³ãƒçŠ¶æ…‹ã®ç¢ºèª

### ç¾åœ¨ã®çŠ¶æ…‹ç¢ºèª
```bash
# ãƒ–ãƒ©ãƒ³ãƒã®çŠ¶æ…‹
git status

# å±¥æ­´ã®å¯è¦–åŒ–
git log --oneline --graph --all -10

# ãƒªãƒ¢ãƒ¼ãƒˆãƒ–ãƒ©ãƒ³ãƒã®ç¢ºèª
git branch -r
```

### åˆ†å²ã®ç¢ºèª
```bash
# ãƒ­ãƒ¼ã‚«ãƒ«ã¨ãƒªãƒ¢ãƒ¼ãƒˆã®å·®åˆ†
git log --oneline --graph --all -5
```

## ğŸ”§ è¨­å®šã¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### Gitè¨­å®š
```bash
# ãƒ—ãƒ«æ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹•ä½œè¨­å®š
git config pull.rebase false  # merge
git config pull.rebase true   # rebase
git config pull.ff only       # fast-forward only
```

### ã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
```bash
# .gitconfigã«è¿½åŠ 
[alias]
    sync-dev = reset --hard origin/dev
    graph = log --oneline --graph --all -10
```

## ğŸ“ ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

1. **å®šæœŸçš„ãªåŒæœŸ**: ä½œæ¥­å‰ã«devãƒ–ãƒ©ãƒ³ãƒã‚’æœ€æ–°åŒ–
2. **æ—©æœŸç™ºè¦‹**: `git status`ã§åˆ†å²ã‚’æ—©æœŸç™ºè¦‹
3. **è‡ªå‹•åŒæœŸã‚’æ´»ç”¨**: mainãƒãƒ¼ã‚¸å¾Œã®è‡ªå‹•åŒæœŸã‚’å¾…ã¤
4. **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—**: é‡è¦ãªå¤‰æ›´ã¯äº‹å‰ã«ã‚³ãƒŸãƒƒãƒˆ

## ğŸ†˜ ç·Šæ€¥æ™‚ã®å¯¾å‡¦

### é‡è¦ãªå¤‰æ›´ãŒã‚ã‚‹å ´åˆ
```bash
# ç¾åœ¨ã®å¤‰æ›´ã‚’ä¸€æ™‚ä¿å­˜
git stash

# devãƒ–ãƒ©ãƒ³ãƒã‚’åŒæœŸ
git reset --hard origin/dev

# å¤‰æ›´ã‚’å¾©å…ƒ
git stash pop
```

### ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆãŒç™ºç”Ÿã—ãŸå ´åˆ
```bash
# ãƒªãƒ™ãƒ¼ã‚¹ã‚’ä¸­æ­¢
git rebase --abort

# å¼·åˆ¶ãƒªã‚»ãƒƒãƒˆã§è§£æ±º
git reset --hard origin/dev
```

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒè§£æ±ºã—ãªã„å ´åˆã¯ã€ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

1. ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒçŠ¶æ…‹: `git status`
2. å±¥æ­´ã®ç¢ºèª: `git log --oneline --graph --all -5`
3. ãƒªãƒ¢ãƒ¼ãƒˆã®çŠ¶æ…‹: `git fetch origin`

